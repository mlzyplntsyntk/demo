!function(n,t){t(document).ready(function(){i.onReady()});var i={eventQueue:[],onReady:function(){var n=this;this.eventQueue.forEach(function(t){t.call(n)});this.eventQueue=[]},ready:function(n){this.eventQueue.push(n)},setVariable:function(n,t){e[n]=t},getVariable:function(n){return e[n]||null},httpGet:function(n){n.method="get";f(n)},submitFormAsync:function(n,i){n.on("submit",function(n){var u,e,r;if(n.preventDefault(),!(t(this).validate().errorList.length>0)){if(u={},t(this).serializeArray().forEach(function(n){u[n.name]=n.value}),typeof CKEDITOR!="undefined")for(r in CKEDITOR.instances)u[r]=CKEDITOR.instances[r].getData();if(e={url:t(this).attr("action"),method:t(this).attr("method"),data:u},t(this).attr("id")!=="authentication-form")for(r in i)e[r]=i[r];f(e)}})}},s={create:function(n){var t=n.target,e=n.url,i=n.valueField,r=n.textField,s=n.textFormatter;if(t.empty().append(u({text:"Loading..."})),f({url:e,method:"get",done:function(n){o[t]=n;t.empty().append(u({text:"Please Choose"}));n.forEach(function(n){t.append(u({val:n[i],text:r?n[r]:s.call(n)}))})}}),n.onChange)t.on("change",function(){var r=null;o[t].forEach(function(n){n[i].toString()===t.val()&&(r=n)});n.onChange.call(t,r)})}},r={domObject:null,show:function(n){this.domObject==null&&(this.domObject=t('<div class="modal fade single-modal-window" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;<\/button><h4 class="modal-title"><\/h4><\/div><div class="modal-body clearfix"><\/div><\/div><\/div><\/div>'),t("body").append(this.domObject));this.clear();n.title&&this.domObject.find("h4").html(n.title);n.domContent&&this.domObject.find(".modal-body").append(n.domContent);this.domObject.modal("show")},clear:function(){this.domObject.find("h4, .modal-body").empty()},close:function(){this.clear();this.domObject.modal("hide")}},e={},o={},u=function(n){return t("<option>").val(n.val||"").text(n.text)},f=function(n){n.validateResult=n.validateResult||!0;t.ajax({url:n.url,method:n.method,data:n.data}).done(function(t){n.validateResult&&!c(t)?n.fail&&n.fail.call(undefined,t):n.done&&n.done.call(undefined,t);n.always&&n.always.call(undefined,t)})},h=function(n){return t('<div id="body-mock">'+n.replace(/^[\s\S]*<body.*?>|<\/body>[\s\S]*$/ig,"")+"<\/div>")},c=function(n){if(typeof n=="string"){var i=h(n);if(i.find(".navbar-user-loggedin").length>0)return t(".navbar-user-profile").replaceWith(i.find(".navbar-user-loggedin").clone()),l(),!0;if(i.find(".alert-danger").length>0)return r.domObject.find(".alert-danger").remove(),r.domObject.find(".modal-body").prepend(i.find(".alert-danger").clone()),!1;if(i.find("#authentication-form").length>0)return showLoginForm(i),!1}return!0},l=function(){r.close()};showLoginForm=function(n){var u=n.find("#authentication-form").clone();r.show({domContent:u,title:"Login Form"});n.find("script").each(function(){t(this).attr("data-async-exec")&&eval(t(this)[0].innerText)});i.onReady();jQuery.validator.unobtrusive.parse(document);i.submitFormAsync(u)};i.selectComponent=s;n.app=i||{}}(window,jQuery);